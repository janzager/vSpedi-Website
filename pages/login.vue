
import { NuxtLink } from '#build/components';

import { NuxtLink } from '#build/components';
<template>
    <div class="login-background flex text-white min-h-[100vh] w-full">
        <div class="ml-[10%] mt-[6%] max-w-[35%] mr-[10%] text-center">
            <svg width="50%" height="auto" viewBox="0 0 731 147" fill="none" xmlns="http://www.w3.org/2000/svg" class="ml-auto mr-auto">
                <g clip-path="url(#clip0_18_25)">
                <path d="M55.4077 129.387L16.604 90.5839C10.0436 84.0235 10.0436 73.3869 16.604 66.8266C23.1645 60.2661 33.8009 60.2661 40.3614 66.8266L64.9107 91.3759C66.6601 93.1253 69.4965 93.1253 71.2459 91.3759L95.7953 66.8266C102.356 60.2661 112.992 60.2662 119.552 66.8266C126.113 73.3871 126.113 84.0236 119.552 90.584L80.7489 129.387C73.7511 136.386 62.4055 136.386 55.4077 129.387Z" fill="#878142"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M248.871 11.9924C258.149 11.9924 265.67 19.5135 265.67 28.7914C265.67 38.0692 258.149 45.5904 248.871 45.5904H170.476C167.384 45.5904 164.876 48.0975 164.876 51.1901C164.876 54.2826 167.384 56.7897 170.476 56.7897H232.072C250.628 56.7897 265.67 71.8321 265.67 90.3877V101.587C265.67 120.143 250.628 135.185 232.072 135.185H148.077C138.8 135.185 131.278 127.664 131.278 118.386C131.278 109.108 138.8 101.587 148.077 101.587H226.473C229.565 101.587 232.072 99.08 232.072 95.9874C232.072 92.8948 229.565 90.3877 226.473 90.3877H164.876C146.32 90.3877 131.278 75.3453 131.278 56.7897V45.5904C131.278 27.0348 146.32 11.9924 164.876 11.9924L248.871 11.9924ZM670.284 39.2666C661.113 22.4534 643.491 11.9924 624.339 11.9924L572.532 11.9924C562.635 11.9924 554.613 20.0149 554.613 29.9113V117.266C554.613 127.163 562.635 135.185 572.532 135.185H624.339C643.491 135.185 661.113 124.724 670.284 107.911C681.953 86.5173 681.953 60.6602 670.284 39.2666ZM588.211 101.587V45.5904H618.449C633.912 45.5904 646.448 58.1257 646.448 73.5887C646.448 89.0518 633.912 101.587 618.449 101.587H588.211ZM547.894 45.5904C547.894 27.0348 532.852 11.9924 514.296 11.9924L447.1 11.9924C428.543 11.9924 413.501 27.0348 413.501 45.5904V56.7897V90.3877V101.587C413.501 120.143 428.543 135.185 447.1 135.185H531.095C540.372 135.185 547.894 127.664 547.894 118.386C547.894 109.108 540.372 101.587 531.095 101.587H452.699C449.607 101.587 447.1 99.08 447.1 95.9874C447.1 92.8948 449.607 90.3877 452.699 90.3877H514.296C532.852 90.3877 547.894 75.3453 547.894 56.7897V45.5904ZM514.296 51.1901C514.296 48.0975 511.788 45.5904 508.696 45.5904H452.699C449.607 45.5904 447.1 48.0975 447.1 51.1901C447.1 54.2826 449.607 56.7897 452.699 56.7897H508.696C511.788 56.7897 514.296 54.2826 514.296 51.1901ZM702.444 11.9924C711.722 11.9924 719.243 19.5135 719.243 28.7914C719.243 38.0692 711.722 45.5904 702.444 45.5904C693.167 45.5904 685.645 38.0692 685.645 28.7914C685.645 19.5135 693.167 11.9924 702.444 11.9924ZM702.444 56.7897C711.722 56.7897 719.243 64.3109 719.243 73.5887V118.386C719.243 127.664 711.722 135.185 702.444 135.185C693.167 135.185 685.645 127.664 685.645 118.386V73.5887C685.645 64.3109 693.167 56.7897 702.444 56.7897ZM406.782 45.5904C406.782 27.0348 391.74 11.9924 373.184 11.9924L305.988 11.9924C287.432 11.9924 272.39 27.0348 272.39 45.5904V56.7897V75.8286V90.3864V90.3877V118.385C272.39 127.662 279.911 135.184 289.189 135.184C298.466 135.184 305.988 127.662 305.988 118.385V98.2273C305.988 93.8976 309.498 90.3877 313.827 90.3877H373.184C391.74 90.3877 406.782 75.3453 406.782 56.7897V45.5904ZM373.184 51.1901C373.184 48.0975 370.676 45.5904 367.584 45.5904H311.588C308.495 45.5904 305.988 48.0975 305.988 51.1901C305.988 54.2826 308.495 56.7897 311.588 56.7897H367.584C370.676 56.7897 373.184 54.2826 373.184 51.1901Z" fill="#FED649"/>
                </g>
                <defs>
                <clipPath id="clip0_18_25">
                <rect width="714.518" height="131.032" fill="white" transform="translate(4.72571 11.9924)"/>
                </clipPath>
                </defs>
            </svg>
            <h1 class="mt-2 text-6xl font-semibold">Anmelden</h1>
            <form @submit.prevent="login">
                <input type="text" placeholder="Benutzername oder Email" class="text-white bg-secondary rounded-2xl mt-20 text-4xl pr-2 pl-2 pb-2 pt-2 w-full" v-model="username" maxlength="32">
                <input type="password" placeholder="Passwort" class="text-white bg-secondary rounded-2xl text-4xl pr-2 pl-2 pb-2 pt-2 w-full mt-4 mb-1" v-model="password">
                <div class="w-full text-left">
                    <NuxtLink class="text-[#999999] ml-4 hover:underline">Password vergessen?</NuxtLink>
                </div>
                <button type="submit" class="outline-none w-full bg-primary text-4xl font-semibold pt-1 pb-3 rounded-2xl mt-4" >{{ loginButtonValue }}</button>
            </form>
            <hr class="mt-4 mb-4 text-[#4F4F4F] bg-[#4F4F4F] border-[#4F4F4F]">
            <p class="text-[#999999]">Noch kein Nutzer?</p>
            <NuxtLink><button class="bg-secondary w-full text-4xl font-semibold pt-1 pb-3 rounded-2xl mt-4">Registrieren</button></NuxtLink>
        </div>
        <Transition>
            <div v-show="wrongUsernameOrPasswordVisiblle" class="absolute bg-error rounded-2xl flex w-72 justify-center items-center right-4 bottom-4">
                <Icon name="ic:round-warning-amber" color="white" size="64px" class=" mb-2 ml-2 mt-2"/>
                <p class="ml-2 mr-2">Hoppla! Benutzername oder Password sind leider Falsch</p>
            </div>
        </Transition>
        <Transition>
            <div v-show="internalErrorVisible" class="absolute bg-error rounded-2xl flex w-72 justify-center items-center right-4 bottom-4 transition-all">
                <Icon name="ic:round-warning-amber" color="white" size="64px" class=" mb-2 ml-2 mt-2"/>
                <p class="ml-2 mr-2">Es liegt nicht an dir, es liegt an uns.</p>
            </div>
        </Transition>
    </div>
</template>

<script setup lang="ts">
import { Transition } from 'vue';


    const username = ref('')
    const password = ref('')
    const wrongUsernameOrPasswordVisiblle = ref(false);
    const internalErrorVisible = ref(false);
    const loginButtonValue = ref("Anmelden");

    function login(){
        useFetch("https://api.vspedi.de/dev/signin", {
            method: "POST",
            body: {
                username: "Test"
            }
        })
        
    }

</script>

<style scoped>
    .v-enter-active,
    .v-leave-active {
    transition: opacity 0.5s ease;
    }

    .v-enter-from,
    .v-leave-to {
    opacity: 0;
}</style>